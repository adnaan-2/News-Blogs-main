"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/posts/[id]/route";
exports.ids = ["app/api/posts/[id]/route"];
exports.modules = {

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("mongoose");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fposts%2F%5Bid%5D%2Froute&page=%2Fapi%2Fposts%2F%5Bid%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fposts%2F%5Bid%5D%2Froute.js&appDir=D%3A%5Cindustry%20projects%5CNews-Blogs-main%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5Cindustry%20projects%5CNews-Blogs-main&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fposts%2F%5Bid%5D%2Froute&page=%2Fapi%2Fposts%2F%5Bid%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fposts%2F%5Bid%5D%2Froute.js&appDir=D%3A%5Cindustry%20projects%5CNews-Blogs-main%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5Cindustry%20projects%5CNews-Blogs-main&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var D_industry_projects_News_Blogs_main_src_app_api_posts_id_route_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/posts/[id]/route.js */ \"(rsc)/./src/app/api/posts/[id]/route.js\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/posts/[id]/route\",\n        pathname: \"/api/posts/[id]\",\n        filename: \"route\",\n        bundlePath: \"app/api/posts/[id]/route\"\n    },\n    resolvedPagePath: \"D:\\\\industry projects\\\\News-Blogs-main\\\\src\\\\app\\\\api\\\\posts\\\\[id]\\\\route.js\",\n    nextConfigOutput,\n    userland: D_industry_projects_News_Blogs_main_src_app_api_posts_id_route_js__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/posts/[id]/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZwb3N0cyUyRiU1QmlkJTVEJTJGcm91dGUmcGFnZT0lMkZhcGklMkZwb3N0cyUyRiU1QmlkJTVEJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGcG9zdHMlMkYlNUJpZCU1RCUyRnJvdXRlLmpzJmFwcERpcj1EJTNBJTVDaW5kdXN0cnklMjBwcm9qZWN0cyU1Q05ld3MtQmxvZ3MtbWFpbiU1Q3NyYyU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9RCUzQSU1Q2luZHVzdHJ5JTIwcHJvamVjdHMlNUNOZXdzLUJsb2dzLW1haW4maXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQzRCO0FBQ3pHO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV3cy1ibG9nLXNpdGUvP2RlZjYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiRDpcXFxcaW5kdXN0cnkgcHJvamVjdHNcXFxcTmV3cy1CbG9ncy1tYWluXFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXHBvc3RzXFxcXFtpZF1cXFxccm91dGUuanNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3Bvc3RzL1tpZF0vcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9wb3N0cy9baWRdXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9wb3N0cy9baWRdL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiRDpcXFxcaW5kdXN0cnkgcHJvamVjdHNcXFxcTmV3cy1CbG9ncy1tYWluXFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXHBvc3RzXFxcXFtpZF1cXFxccm91dGUuanNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL3Bvc3RzL1tpZF0vcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fposts%2F%5Bid%5D%2Froute&page=%2Fapi%2Fposts%2F%5Bid%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fposts%2F%5Bid%5D%2Froute.js&appDir=D%3A%5Cindustry%20projects%5CNews-Blogs-main%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5Cindustry%20projects%5CNews-Blogs-main&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/posts/[id]/route.js":
/*!*****************************************!*\
  !*** ./src/app/api/posts/[id]/route.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DELETE: () => (/* binding */ DELETE),\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   PUT: () => (/* binding */ PUT),\n/* harmony export */   \"default\": () => (/* binding */ AdminEditPostPage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_mongodb__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/mongodb */ \"(rsc)/./src/lib/mongodb.js\");\n/* harmony import */ var _models_Post__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/models/Post */ \"(rsc)/./src/models/Post.js\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_4__);\n\n\n\n\n\nfunction AdminEditPostPage({ params }) {\n    const { id } = params;\n    const router = useRouter();\n    const [isSubmitting, setIsSubmitting] = useState(false);\n    const [isLoading, setIsLoading] = useState(true);\n    const [error, setError] = useState(\"\");\n    const [success, setSuccess] = useState(\"\");\n    const [imagePreview, setImagePreview] = useState(null);\n    const [formData, setFormData] = useState({\n        title: \"\",\n        content: \"\",\n        category: \"business\",\n        image: null\n    });\n    const categories = [\n        \"business\",\n        \"tech\",\n        \"weather\",\n        \"automotive\",\n        \"pakistan\",\n        \"global\",\n        \"health\",\n        \"sports\",\n        \"islam\",\n        \"education\",\n        \"entertainment\"\n    ];\n    // Fetch post data\n    useEffect(()=>{\n        async function fetchPost() {\n            try {\n                setIsLoading(true);\n                const response = await fetch(`/api/posts/${id}`);\n                if (!response.ok) {\n                    throw new Error(\"Failed to fetch post\");\n                }\n                const data = await response.json();\n                const post = data.post;\n                setFormData({\n                    title: post.title || \"\",\n                    content: post.content || \"\",\n                    category: post.category || \"business\",\n                    image: null\n                });\n                if (post.imageUrl) {\n                    setImagePreview(post.imageUrl);\n                }\n            } catch (error) {\n                console.error(\"Error fetching post:\", error);\n                setError(error.message || \"Failed to fetch post\");\n            } finally{\n                setIsLoading(false);\n            }\n        }\n        if (id) {\n            fetchPost();\n        }\n    }, [\n        id\n    ]);\n    // Handle form input changes\n    const handleChange = (e)=>{\n        const { name, value } = e.target;\n        setFormData((prev)=>({\n                ...prev,\n                [name]: value\n            }));\n    };\n    // Handle image upload\n    const handleImageUpload = (e)=>{\n        const file = e.target.files[0];\n        if (!file) return;\n        // File size validation (max 5MB)\n        if (file.size > 5 * 1024 * 1024) {\n            setError(\"Image size should be less than 5MB\");\n            return;\n        }\n        // Check file type\n        if (!file.type.startsWith(\"image/\")) {\n            setError(\"Please select a valid image file\");\n            return;\n        }\n        setFormData((prev)=>({\n                ...prev,\n                image: file\n            }));\n        // Create image preview\n        const reader = new FileReader();\n        reader.onload = ()=>{\n            setImagePreview(reader.result);\n        };\n        reader.readAsDataURL(file);\n    };\n    // Remove selected image\n    const handleRemoveImage = ()=>{\n        setFormData((prev)=>({\n                ...prev,\n                image: null\n            }));\n        setImagePreview(null);\n    };\n    // Submit form\n    const handleSubmit = async (e)=>{\n        e.preventDefault();\n        setIsSubmitting(true);\n        setError(\"\");\n        setSuccess(\"\");\n        try {\n            // Create form data for multipart/form-data (for image upload)\n            const postFormData = new FormData();\n            postFormData.append(\"title\", formData.title);\n            postFormData.append(\"content\", formData.content);\n            postFormData.append(\"category\", formData.category);\n            if (formData.image) {\n                postFormData.append(\"image\", formData.image);\n            }\n            console.log(\"Submitting update for post:\", id);\n            // Send data to API route\n            const response = await fetch(`/api/posts/${id}`, {\n                method: \"PUT\",\n                body: postFormData\n            });\n            console.log(\"Response status:\", response.status);\n            // Handle non-JSON response\n            if (response.status === 405) {\n                throw new Error(\"Method not allowed. The API endpoint does not support PUT requests.\");\n            }\n            if (!response.ok) {\n                let errorMessage = \"Failed to update post\";\n                try {\n                    const errorData = await response.json();\n                    errorMessage = errorData.error || errorMessage;\n                } catch (e) {\n                    console.error(\"Error parsing error response:\", e);\n                }\n                throw new Error(errorMessage);\n            }\n            // Try to parse response as JSON\n            let data;\n            try {\n                data = await response.json();\n                console.log(\"Response data:\", data);\n            } catch (e) {\n                console.error(\"Error parsing response:\", e);\n                if (response.ok) {\n                    // If the response is OK but not JSON, we'll still treat it as success\n                    data = {\n                        message: \"Post updated successfully\"\n                    };\n                } else {\n                    throw new Error(\"Invalid response from server\");\n                }\n            }\n            // Post updated successfully\n            setSuccess(data.message || \"Post updated successfully!\");\n            // Redirect to dashboard after 1.5 seconds\n            setTimeout(()=>{\n                router.push(\"/admin/dashboard\");\n            }, 1500);\n        } catch (err) {\n            console.error(\"Error updating post:\", err);\n            setError(err.message || \"Failed to update post\");\n        } finally{\n            setIsSubmitting(false);\n        }\n    };\n    // Show loading spinner\n    if (isLoading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex justify-center items-center min-h-[60vh]\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"animate-spin rounded-full h-12 w-12 border-t-4 border-blue-500\"\n            }, void 0, false, {\n                fileName: \"D:\\\\industry projects\\\\News-Blogs-main\\\\src\\\\app\\\\api\\\\posts\\\\[id]\\\\route.js\",\n                lineNumber: 190,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"D:\\\\industry projects\\\\News-Blogs-main\\\\src\\\\app\\\\api\\\\posts\\\\[id]\\\\route.js\",\n            lineNumber: 189,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"container mx-auto px-4 py-8\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center justify-between mb-6\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Link, {\n                        href: \"/admin/dashboard\",\n                        className: \"flex items-center text-gray-600 hover:text-blue-600\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ArrowLeft, {\n                                size: 18,\n                                className: \"mr-2\"\n                            }, void 0, false, {\n                                fileName: \"D:\\\\industry projects\\\\News-Blogs-main\\\\src\\\\app\\\\api\\\\posts\\\\[id]\\\\route.js\",\n                                lineNumber: 199,\n                                columnNumber: 11\n                            }, this),\n                            \"Back to Dashboard\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"D:\\\\industry projects\\\\News-Blogs-main\\\\src\\\\app\\\\api\\\\posts\\\\[id]\\\\route.js\",\n                        lineNumber: 198,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                        className: \"text-2xl font-semibold\",\n                        children: \"Edit Post\"\n                    }, void 0, false, {\n                        fileName: \"D:\\\\industry projects\\\\News-Blogs-main\\\\src\\\\app\\\\api\\\\posts\\\\[id]\\\\route.js\",\n                        lineNumber: 202,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"D:\\\\industry projects\\\\News-Blogs-main\\\\src\\\\app\\\\api\\\\posts\\\\[id]\\\\route.js\",\n                lineNumber: 197,\n                columnNumber: 7\n            }, this),\n            error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-red-50 border-l-4 border-red-500 p-4 mb-6\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    className: \"text-red-700\",\n                    children: error\n                }, void 0, false, {\n                    fileName: \"D:\\\\industry projects\\\\News-Blogs-main\\\\src\\\\app\\\\api\\\\posts\\\\[id]\\\\route.js\",\n                    lineNumber: 207,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"D:\\\\industry projects\\\\News-Blogs-main\\\\src\\\\app\\\\api\\\\posts\\\\[id]\\\\route.js\",\n                lineNumber: 206,\n                columnNumber: 9\n            }, this),\n            success && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-green-50 border-l-4 border-green-500 p-4 mb-6\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    className: \"text-green-700\",\n                    children: success\n                }, void 0, false, {\n                    fileName: \"D:\\\\industry projects\\\\News-Blogs-main\\\\src\\\\app\\\\api\\\\posts\\\\[id]\\\\route.js\",\n                    lineNumber: 213,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"D:\\\\industry projects\\\\News-Blogs-main\\\\src\\\\app\\\\api\\\\posts\\\\[id]\\\\route.js\",\n                lineNumber: 212,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-white rounded-lg shadow p-6\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n                    onSubmit: handleSubmit,\n                    encType: \"multipart/form-data\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"mb-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    htmlFor: \"title\",\n                                    className: \"block text-gray-700 font-medium mb-2\",\n                                    children: \"Post Title\"\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\industry projects\\\\News-Blogs-main\\\\src\\\\app\\\\api\\\\posts\\\\[id]\\\\route.js\",\n                                    lineNumber: 221,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                    type: \"text\",\n                                    id: \"title\",\n                                    name: \"title\",\n                                    value: formData.title,\n                                    onChange: handleChange,\n                                    required: true,\n                                    className: \"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",\n                                    placeholder: \"Enter post title\"\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\industry projects\\\\News-Blogs-main\\\\src\\\\app\\\\api\\\\posts\\\\[id]\\\\route.js\",\n                                    lineNumber: 224,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"D:\\\\industry projects\\\\News-Blogs-main\\\\src\\\\app\\\\api\\\\posts\\\\[id]\\\\route.js\",\n                            lineNumber: 220,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"mb-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    htmlFor: \"category\",\n                                    className: \"block text-gray-700 font-medium mb-2\",\n                                    children: \"Category\"\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\industry projects\\\\News-Blogs-main\\\\src\\\\app\\\\api\\\\posts\\\\[id]\\\\route.js\",\n                                    lineNumber: 238,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                    id: \"category\",\n                                    name: \"category\",\n                                    value: formData.category,\n                                    onChange: handleChange,\n                                    required: true,\n                                    className: \"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",\n                                    children: categories.map((category)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                            value: category,\n                                            className: \"capitalize\",\n                                            children: category.charAt(0).toUpperCase() + category.slice(1)\n                                        }, category, false, {\n                                            fileName: \"D:\\\\industry projects\\\\News-Blogs-main\\\\src\\\\app\\\\api\\\\posts\\\\[id]\\\\route.js\",\n                                            lineNumber: 250,\n                                            columnNumber: 17\n                                        }, this))\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\industry projects\\\\News-Blogs-main\\\\src\\\\app\\\\api\\\\posts\\\\[id]\\\\route.js\",\n                                    lineNumber: 241,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"D:\\\\industry projects\\\\News-Blogs-main\\\\src\\\\app\\\\api\\\\posts\\\\[id]\\\\route.js\",\n                            lineNumber: 237,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"mb-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    className: \"block text-gray-700 font-medium mb-2\",\n                                    children: \"Featured Image\"\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\industry projects\\\\News-Blogs-main\\\\src\\\\app\\\\api\\\\posts\\\\[id]\\\\route.js\",\n                                    lineNumber: 259,\n                                    columnNumber: 13\n                                }, this),\n                                !imagePreview ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"border-2 border-dashed border-gray-300 rounded-md p-6 text-center\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            type: \"file\",\n                                            id: \"image\",\n                                            name: \"image\",\n                                            accept: \"image/*\",\n                                            onChange: handleImageUpload,\n                                            className: \"hidden\"\n                                        }, void 0, false, {\n                                            fileName: \"D:\\\\industry projects\\\\News-Blogs-main\\\\src\\\\app\\\\api\\\\posts\\\\[id]\\\\route.js\",\n                                            lineNumber: 265,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                            htmlFor: \"image\",\n                                            className: \"flex flex-col items-center justify-center cursor-pointer\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Upload, {\n                                                    className: \"h-12 w-12 text-gray-400 mb-2\"\n                                                }, void 0, false, {\n                                                    fileName: \"D:\\\\industry projects\\\\News-Blogs-main\\\\src\\\\app\\\\api\\\\posts\\\\[id]\\\\route.js\",\n                                                    lineNumber: 277,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-gray-500\",\n                                                    children: \"Click to upload image\"\n                                                }, void 0, false, {\n                                                    fileName: \"D:\\\\industry projects\\\\News-Blogs-main\\\\src\\\\app\\\\api\\\\posts\\\\[id]\\\\route.js\",\n                                                    lineNumber: 278,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-xs text-gray-400 mt-1\",\n                                                    children: \"PNG, JPG, GIF up to 5MB\"\n                                                }, void 0, false, {\n                                                    fileName: \"D:\\\\industry projects\\\\News-Blogs-main\\\\src\\\\app\\\\api\\\\posts\\\\[id]\\\\route.js\",\n                                                    lineNumber: 279,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"D:\\\\industry projects\\\\News-Blogs-main\\\\src\\\\app\\\\api\\\\posts\\\\[id]\\\\route.js\",\n                                            lineNumber: 273,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"D:\\\\industry projects\\\\News-Blogs-main\\\\src\\\\app\\\\api\\\\posts\\\\[id]\\\\route.js\",\n                                    lineNumber: 264,\n                                    columnNumber: 15\n                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"relative\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Image, {\n                                            src: imagePreview,\n                                            alt: \"Preview\",\n                                            width: 400,\n                                            height: 225,\n                                            className: \"rounded-md object-cover\",\n                                            unoptimized: true\n                                        }, void 0, false, {\n                                            fileName: \"D:\\\\industry projects\\\\News-Blogs-main\\\\src\\\\app\\\\api\\\\posts\\\\[id]\\\\route.js\",\n                                            lineNumber: 284,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            type: \"button\",\n                                            onClick: handleRemoveImage,\n                                            className: \"absolute top-2 right-2 bg-red-600 text-white p-1 rounded-full hover:bg-red-700\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(X, {\n                                                size: 16\n                                            }, void 0, false, {\n                                                fileName: \"D:\\\\industry projects\\\\News-Blogs-main\\\\src\\\\app\\\\api\\\\posts\\\\[id]\\\\route.js\",\n                                                lineNumber: 297,\n                                                columnNumber: 19\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"D:\\\\industry projects\\\\News-Blogs-main\\\\src\\\\app\\\\api\\\\posts\\\\[id]\\\\route.js\",\n                                            lineNumber: 292,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"D:\\\\industry projects\\\\News-Blogs-main\\\\src\\\\app\\\\api\\\\posts\\\\[id]\\\\route.js\",\n                                    lineNumber: 283,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"D:\\\\industry projects\\\\News-Blogs-main\\\\src\\\\app\\\\api\\\\posts\\\\[id]\\\\route.js\",\n                            lineNumber: 258,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"mb-6\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                    htmlFor: \"content\",\n                                    className: \"block text-gray-700 font-medium mb-2\",\n                                    children: \"Content\"\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\industry projects\\\\News-Blogs-main\\\\src\\\\app\\\\api\\\\posts\\\\[id]\\\\route.js\",\n                                    lineNumber: 305,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                    id: \"content\",\n                                    name: \"content\",\n                                    value: formData.content,\n                                    onChange: handleChange,\n                                    required: true,\n                                    rows: 10,\n                                    className: \"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",\n                                    placeholder: \"Write your post content here...\"\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\industry projects\\\\News-Blogs-main\\\\src\\\\app\\\\api\\\\posts\\\\[id]\\\\route.js\",\n                                    lineNumber: 308,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"D:\\\\industry projects\\\\News-Blogs-main\\\\src\\\\app\\\\api\\\\posts\\\\[id]\\\\route.js\",\n                            lineNumber: 304,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex justify-end\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                type: \"submit\",\n                                disabled: isSubmitting,\n                                className: \"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 flex items-center\",\n                                children: isSubmitting ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Loader, {\n                                            size: 16,\n                                            className: \"mr-2 animate-spin\"\n                                        }, void 0, false, {\n                                            fileName: \"D:\\\\industry projects\\\\News-Blogs-main\\\\src\\\\app\\\\api\\\\posts\\\\[id]\\\\route.js\",\n                                            lineNumber: 329,\n                                            columnNumber: 19\n                                        }, this),\n                                        \"Updating...\"\n                                    ]\n                                }, void 0, true) : \"Update Post\"\n                            }, void 0, false, {\n                                fileName: \"D:\\\\industry projects\\\\News-Blogs-main\\\\src\\\\app\\\\api\\\\posts\\\\[id]\\\\route.js\",\n                                lineNumber: 322,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"D:\\\\industry projects\\\\News-Blogs-main\\\\src\\\\app\\\\api\\\\posts\\\\[id]\\\\route.js\",\n                            lineNumber: 321,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"D:\\\\industry projects\\\\News-Blogs-main\\\\src\\\\app\\\\api\\\\posts\\\\[id]\\\\route.js\",\n                    lineNumber: 218,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"D:\\\\industry projects\\\\News-Blogs-main\\\\src\\\\app\\\\api\\\\posts\\\\[id]\\\\route.js\",\n                lineNumber: 217,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"D:\\\\industry projects\\\\News-Blogs-main\\\\src\\\\app\\\\api\\\\posts\\\\[id]\\\\route.js\",\n        lineNumber: 196,\n        columnNumber: 5\n    }, this);\n}\n;\n// Connect to MongoDB at the start\nasync function GET(request, { params }) {\n    const { id } = params;\n    try {\n        await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_2__[\"default\"])();\n        // Validate ID format\n        if (!mongoose__WEBPACK_IMPORTED_MODULE_4___default().Types.ObjectId.isValid(id)) {\n            return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n                error: \"Invalid post ID\"\n            }, {\n                status: 400\n            });\n        }\n        // Find post by ID\n        const post = await _models_Post__WEBPACK_IMPORTED_MODULE_3__[\"default\"].findById(id).populate(\"author\", \"name email\");\n        // Return 404 if post not found\n        if (!post) {\n            return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n                error: \"Post not found\"\n            }, {\n                status: 404\n            });\n        }\n        // Return post data\n        return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n            post\n        });\n    } catch (error) {\n        console.error(\"Error fetching post:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n            error: \"Failed to fetch post\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function PUT(request, { params }) {\n    const { id } = params;\n    try {\n        await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_2__[\"default\"])();\n        // Validate ID format\n        if (!mongoose__WEBPACK_IMPORTED_MODULE_4___default().Types.ObjectId.isValid(id)) {\n            return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n                error: \"Invalid post ID\"\n            }, {\n                status: 400\n            });\n        }\n        // Find post to verify it exists\n        const existingPost = await _models_Post__WEBPACK_IMPORTED_MODULE_3__[\"default\"].findById(id);\n        if (!existingPost) {\n            return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n                error: \"Post not found\"\n            }, {\n                status: 404\n            });\n        }\n        // Process form data (multipart form)\n        const formData = await request.formData();\n        const title = formData.get(\"title\");\n        const content = formData.get(\"content\");\n        const category = formData.get(\"category\");\n        const image = formData.get(\"image\");\n        // Validate required fields\n        if (!title || !content || !category) {\n            return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n                error: \"Title, content and category are required\"\n            }, {\n                status: 400\n            });\n        }\n        // Prepare update data\n        const updateData = {\n            title,\n            content,\n            category,\n            updatedAt: new Date()\n        };\n        // Handle image upload if provided\n        if (image && image instanceof File) {\n            // For now, we'll keep existing image URL\n            // In a real implementation, you would upload the image and update the URL\n            console.log(\"Image received:\", image.name, image.size);\n        }\n        // Update post in database using Mongoose\n        const updatedPost = await _models_Post__WEBPACK_IMPORTED_MODULE_3__[\"default\"].findByIdAndUpdate(id, {\n            $set: updateData\n        }, {\n            new: true\n        } // Return updated document\n        );\n        if (!updatedPost) {\n            return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n                error: \"Post not found or not updated\"\n            }, {\n                status: 404\n            });\n        }\n        // Return success response\n        return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n            message: \"Post updated successfully\",\n            post: updatedPost\n        });\n    } catch (error) {\n        console.error(\"Error updating post:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n            error: \"Failed to update post\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function DELETE(request, { params }) {\n    const { id } = params;\n    try {\n        await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_2__[\"default\"])();\n        // Validate ID format\n        if (!mongoose__WEBPACK_IMPORTED_MODULE_4___default().Types.ObjectId.isValid(id)) {\n            return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n                error: \"Invalid post ID\"\n            }, {\n                status: 400\n            });\n        }\n        // Delete post by ID using Mongoose\n        const deletedPost = await _models_Post__WEBPACK_IMPORTED_MODULE_3__[\"default\"].findByIdAndDelete(id);\n        if (!deletedPost) {\n            return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n                error: \"Post not found\"\n            }, {\n                status: 404\n            });\n        }\n        // Return success response\n        return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n            message: \"Post deleted successfully\"\n        });\n    } catch (error) {\n        console.error(\"Error deleting post:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n            error: \"Failed to delete post\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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cC9hcGkvcG9zdHMvW2lkXS9yb3V0ZS5qcz8yNWNjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcbmltcG9ydCBkYkNvbm5lY3QgZnJvbSAnQC9saWIvbW9uZ29kYic7XG5pbXBvcnQgUG9zdCBmcm9tICdAL21vZGVscy9Qb3N0JztcbmltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEFkbWluRWRpdFBvc3RQYWdlKHsgcGFyYW1zIH0pIHtcbiAgY29uc3QgeyBpZCB9ID0gcGFyYW1zXG4gIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpXG4gIGNvbnN0IFtpc1N1Ym1pdHRpbmcsIHNldElzU3VibWl0dGluZ10gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3QgW2lzTG9hZGluZywgc2V0SXNMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpXG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGUoJycpXG4gIGNvbnN0IFtzdWNjZXNzLCBzZXRTdWNjZXNzXSA9IHVzZVN0YXRlKCcnKVxuICBjb25zdCBbaW1hZ2VQcmV2aWV3LCBzZXRJbWFnZVByZXZpZXddID0gdXNlU3RhdGUobnVsbClcbiAgY29uc3QgW2Zvcm1EYXRhLCBzZXRGb3JtRGF0YV0gPSB1c2VTdGF0ZSh7XG4gICAgdGl0bGU6ICcnLFxuICAgIGNvbnRlbnQ6ICcnLFxuICAgIGNhdGVnb3J5OiAnYnVzaW5lc3MnLFxuICAgIGltYWdlOiBudWxsXG4gIH0pXG5cbiAgY29uc3QgY2F0ZWdvcmllcyA9IFtcbiAgICAnYnVzaW5lc3MnLCAndGVjaCcsICd3ZWF0aGVyJywgJ2F1dG9tb3RpdmUnLCAncGFraXN0YW4nLCBcbiAgICAnZ2xvYmFsJywgJ2hlYWx0aCcsICdzcG9ydHMnLCAnaXNsYW0nLCAnZWR1Y2F0aW9uJywgJ2VudGVydGFpbm1lbnQnXG4gIF1cblxuICAvLyBGZXRjaCBwb3N0IGRhdGFcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBhc3luYyBmdW5jdGlvbiBmZXRjaFBvc3QoKSB7XG4gICAgICB0cnkge1xuICAgICAgICBzZXRJc0xvYWRpbmcodHJ1ZSlcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9wb3N0cy8ke2lkfWApXG4gICAgICAgIFxuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gZmV0Y2ggcG9zdCcpXG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKClcbiAgICAgICAgY29uc3QgcG9zdCA9IGRhdGEucG9zdFxuICAgICAgICBcbiAgICAgICAgc2V0Rm9ybURhdGEoe1xuICAgICAgICAgIHRpdGxlOiBwb3N0LnRpdGxlIHx8ICcnLFxuICAgICAgICAgIGNvbnRlbnQ6IHBvc3QuY29udGVudCB8fCAnJyxcbiAgICAgICAgICBjYXRlZ29yeTogcG9zdC5jYXRlZ29yeSB8fCAnYnVzaW5lc3MnLFxuICAgICAgICAgIGltYWdlOiBudWxsXG4gICAgICAgIH0pXG4gICAgICAgIFxuICAgICAgICBpZiAocG9zdC5pbWFnZVVybCkge1xuICAgICAgICAgIHNldEltYWdlUHJldmlldyhwb3N0LmltYWdlVXJsKVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgcG9zdDonLCBlcnJvcilcbiAgICAgICAgc2V0RXJyb3IoZXJyb3IubWVzc2FnZSB8fCAnRmFpbGVkIHRvIGZldGNoIHBvc3QnKVxuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChpZCkge1xuICAgICAgZmV0Y2hQb3N0KClcbiAgICB9XG4gIH0sIFtpZF0pXG5cbiAgLy8gSGFuZGxlIGZvcm0gaW5wdXQgY2hhbmdlc1xuICBjb25zdCBoYW5kbGVDaGFuZ2UgPSAoZSkgPT4ge1xuICAgIGNvbnN0IHsgbmFtZSwgdmFsdWUgfSA9IGUudGFyZ2V0XG4gICAgc2V0Rm9ybURhdGEocHJldiA9PiAoe1xuICAgICAgLi4ucHJldixcbiAgICAgIFtuYW1lXTogdmFsdWVcbiAgICB9KSlcbiAgfVxuXG4gIC8vIEhhbmRsZSBpbWFnZSB1cGxvYWRcbiAgY29uc3QgaGFuZGxlSW1hZ2VVcGxvYWQgPSAoZSkgPT4ge1xuICAgIGNvbnN0IGZpbGUgPSBlLnRhcmdldC5maWxlc1swXVxuICAgIGlmICghZmlsZSkgcmV0dXJuXG5cbiAgICAvLyBGaWxlIHNpemUgdmFsaWRhdGlvbiAobWF4IDVNQilcbiAgICBpZiAoZmlsZS5zaXplID4gNSAqIDEwMjQgKiAxMDI0KSB7XG4gICAgICBzZXRFcnJvcignSW1hZ2Ugc2l6ZSBzaG91bGQgYmUgbGVzcyB0aGFuIDVNQicpXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICAvLyBDaGVjayBmaWxlIHR5cGVcbiAgICBpZiAoIWZpbGUudHlwZS5zdGFydHNXaXRoKCdpbWFnZS8nKSkge1xuICAgICAgc2V0RXJyb3IoJ1BsZWFzZSBzZWxlY3QgYSB2YWxpZCBpbWFnZSBmaWxlJylcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHNldEZvcm1EYXRhKHByZXYgPT4gKHtcbiAgICAgIC4uLnByZXYsXG4gICAgICBpbWFnZTogZmlsZVxuICAgIH0pKVxuXG4gICAgLy8gQ3JlYXRlIGltYWdlIHByZXZpZXdcbiAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpXG4gICAgcmVhZGVyLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgIHNldEltYWdlUHJldmlldyhyZWFkZXIucmVzdWx0KVxuICAgIH1cbiAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKVxuICB9XG5cbiAgLy8gUmVtb3ZlIHNlbGVjdGVkIGltYWdlXG4gIGNvbnN0IGhhbmRsZVJlbW92ZUltYWdlID0gKCkgPT4ge1xuICAgIHNldEZvcm1EYXRhKHByZXYgPT4gKHtcbiAgICAgIC4uLnByZXYsXG4gICAgICBpbWFnZTogbnVsbFxuICAgIH0pKVxuICAgIHNldEltYWdlUHJldmlldyhudWxsKVxuICB9XG5cbiAgLy8gU3VibWl0IGZvcm1cbiAgY29uc3QgaGFuZGxlU3VibWl0ID0gYXN5bmMgKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICBzZXRJc1N1Ym1pdHRpbmcodHJ1ZSlcbiAgICBzZXRFcnJvcignJylcbiAgICBzZXRTdWNjZXNzKCcnKVxuXG4gICAgdHJ5IHtcbiAgICAgIC8vIENyZWF0ZSBmb3JtIGRhdGEgZm9yIG11bHRpcGFydC9mb3JtLWRhdGEgKGZvciBpbWFnZSB1cGxvYWQpXG4gICAgICBjb25zdCBwb3N0Rm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKVxuICAgICAgcG9zdEZvcm1EYXRhLmFwcGVuZCgndGl0bGUnLCBmb3JtRGF0YS50aXRsZSlcbiAgICAgIHBvc3RGb3JtRGF0YS5hcHBlbmQoJ2NvbnRlbnQnLCBmb3JtRGF0YS5jb250ZW50KVxuICAgICAgcG9zdEZvcm1EYXRhLmFwcGVuZCgnY2F0ZWdvcnknLCBmb3JtRGF0YS5jYXRlZ29yeSlcbiAgICAgIFxuICAgICAgaWYgKGZvcm1EYXRhLmltYWdlKSB7XG4gICAgICAgIHBvc3RGb3JtRGF0YS5hcHBlbmQoJ2ltYWdlJywgZm9ybURhdGEuaW1hZ2UpXG4gICAgICB9XG5cbiAgICAgIGNvbnNvbGUubG9nKCdTdWJtaXR0aW5nIHVwZGF0ZSBmb3IgcG9zdDonLCBpZClcbiAgICAgIFxuICAgICAgLy8gU2VuZCBkYXRhIHRvIEFQSSByb3V0ZVxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9wb3N0cy8ke2lkfWAsIHtcbiAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgYm9keTogcG9zdEZvcm1EYXRhLFxuICAgICAgfSlcbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coJ1Jlc3BvbnNlIHN0YXR1czonLCByZXNwb25zZS5zdGF0dXMpXG4gICAgICBcbiAgICAgIC8vIEhhbmRsZSBub24tSlNPTiByZXNwb25zZVxuICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDA1KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTWV0aG9kIG5vdCBhbGxvd2VkLiBUaGUgQVBJIGVuZHBvaW50IGRvZXMgbm90IHN1cHBvcnQgUFVUIHJlcXVlc3RzLicpXG4gICAgICB9XG4gICAgICBcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgbGV0IGVycm9yTWVzc2FnZSA9ICdGYWlsZWQgdG8gdXBkYXRlIHBvc3QnXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgZXJyb3JEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpXG4gICAgICAgICAgZXJyb3JNZXNzYWdlID0gZXJyb3JEYXRhLmVycm9yIHx8IGVycm9yTWVzc2FnZVxuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcGFyc2luZyBlcnJvciByZXNwb25zZTonLCBlKVxuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvck1lc3NhZ2UpXG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFRyeSB0byBwYXJzZSByZXNwb25zZSBhcyBKU09OXG4gICAgICBsZXQgZGF0YVxuICAgICAgdHJ5IHtcbiAgICAgICAgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKVxuICAgICAgICBjb25zb2xlLmxvZygnUmVzcG9uc2UgZGF0YTonLCBkYXRhKVxuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBwYXJzaW5nIHJlc3BvbnNlOicsIGUpXG4gICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgIC8vIElmIHRoZSByZXNwb25zZSBpcyBPSyBidXQgbm90IEpTT04sIHdlJ2xsIHN0aWxsIHRyZWF0IGl0IGFzIHN1Y2Nlc3NcbiAgICAgICAgICBkYXRhID0geyBtZXNzYWdlOiAnUG9zdCB1cGRhdGVkIHN1Y2Nlc3NmdWxseScgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCByZXNwb25zZSBmcm9tIHNlcnZlcicpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gUG9zdCB1cGRhdGVkIHN1Y2Nlc3NmdWxseVxuICAgICAgc2V0U3VjY2VzcyhkYXRhLm1lc3NhZ2UgfHwgJ1Bvc3QgdXBkYXRlZCBzdWNjZXNzZnVsbHkhJylcbiAgICAgIFxuICAgICAgLy8gUmVkaXJlY3QgdG8gZGFzaGJvYXJkIGFmdGVyIDEuNSBzZWNvbmRzXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgcm91dGVyLnB1c2goJy9hZG1pbi9kYXNoYm9hcmQnKVxuICAgICAgfSwgMTUwMClcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIHBvc3Q6JywgZXJyKVxuICAgICAgc2V0RXJyb3IoZXJyLm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byB1cGRhdGUgcG9zdCcpXG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldElzU3VibWl0dGluZyhmYWxzZSlcbiAgICB9XG4gIH1cblxuICAvLyBTaG93IGxvYWRpbmcgc3Bpbm5lclxuICBpZiAoaXNMb2FkaW5nKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWNlbnRlciBpdGVtcy1jZW50ZXIgbWluLWgtWzYwdmhdXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYW5pbWF0ZS1zcGluIHJvdW5kZWQtZnVsbCBoLTEyIHctMTIgYm9yZGVyLXQtNCBib3JkZXItYmx1ZS01MDBcIj48L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXIgbXgtYXV0byBweC00IHB5LThcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIG1iLTZcIj5cbiAgICAgICAgPExpbmsgaHJlZj1cIi9hZG1pbi9kYXNoYm9hcmRcIiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciB0ZXh0LWdyYXktNjAwIGhvdmVyOnRleHQtYmx1ZS02MDBcIj5cbiAgICAgICAgICA8QXJyb3dMZWZ0IHNpemU9ezE4fSBjbGFzc05hbWU9XCJtci0yXCIgLz5cbiAgICAgICAgICBCYWNrIHRvIERhc2hib2FyZFxuICAgICAgICA8L0xpbms+XG4gICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LXNlbWlib2xkXCI+RWRpdCBQb3N0PC9oMj5cbiAgICAgIDwvZGl2PlxuICAgICAgXG4gICAgICB7ZXJyb3IgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXJlZC01MCBib3JkZXItbC00IGJvcmRlci1yZWQtNTAwIHAtNCBtYi02XCI+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1yZWQtNzAwXCI+e2Vycm9yfTwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgICAgXG4gICAgICB7c3VjY2VzcyAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctZ3JlZW4tNTAgYm9yZGVyLWwtNCBib3JkZXItZ3JlZW4tNTAwIHAtNCBtYi02XCI+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmVlbi03MDBcIj57c3VjY2Vzc308L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICAgIFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSByb3VuZGVkLWxnIHNoYWRvdyBwLTZcIj5cbiAgICAgICAgPGZvcm0gb25TdWJtaXQ9e2hhbmRsZVN1Ym1pdH0gZW5jVHlwZT1cIm11bHRpcGFydC9mb3JtLWRhdGFcIj5cbiAgICAgICAgICB7LyogVGl0bGUgRmllbGQgKi99XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi00XCI+XG4gICAgICAgICAgICA8bGFiZWwgaHRtbEZvcj1cInRpdGxlXCIgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1ncmF5LTcwMCBmb250LW1lZGl1bSBtYi0yXCI+XG4gICAgICAgICAgICAgIFBvc3QgVGl0bGVcbiAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICBpZD1cInRpdGxlXCJcbiAgICAgICAgICAgICAgbmFtZT1cInRpdGxlXCJcbiAgICAgICAgICAgICAgdmFsdWU9e2Zvcm1EYXRhLnRpdGxlfVxuICAgICAgICAgICAgICBvbkNoYW5nZT17aGFuZGxlQ2hhbmdlfVxuICAgICAgICAgICAgICByZXF1aXJlZFxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcHgtNCBweS0yIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZC1tZCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctYmx1ZS01MDBcIlxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkVudGVyIHBvc3QgdGl0bGVcIlxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICBcbiAgICAgICAgICB7LyogQ2F0ZWdvcnkgU2VsZWN0aW9uICovfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNFwiPlxuICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9XCJjYXRlZ29yeVwiIGNsYXNzTmFtZT1cImJsb2NrIHRleHQtZ3JheS03MDAgZm9udC1tZWRpdW0gbWItMlwiPlxuICAgICAgICAgICAgICBDYXRlZ29yeVxuICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgIDxzZWxlY3RcbiAgICAgICAgICAgICAgaWQ9XCJjYXRlZ29yeVwiXG4gICAgICAgICAgICAgIG5hbWU9XCJjYXRlZ29yeVwiXG4gICAgICAgICAgICAgIHZhbHVlPXtmb3JtRGF0YS5jYXRlZ29yeX1cbiAgICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUNoYW5nZX1cbiAgICAgICAgICAgICAgcmVxdWlyZWRcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHB4LTQgcHktMiBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHJvdW5kZWQtbWQgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLWJsdWUtNTAwXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge2NhdGVnb3JpZXMubWFwKGNhdGVnb3J5ID0+IChcbiAgICAgICAgICAgICAgICA8b3B0aW9uIGtleT17Y2F0ZWdvcnl9IHZhbHVlPXtjYXRlZ29yeX0gY2xhc3NOYW1lPVwiY2FwaXRhbGl6ZVwiPlxuICAgICAgICAgICAgICAgICAge2NhdGVnb3J5LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgY2F0ZWdvcnkuc2xpY2UoMSl9XG4gICAgICAgICAgICAgICAgPC9vcHRpb24+XG4gICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgXG4gICAgICAgICAgey8qIEltYWdlIFVwbG9hZCAqL31cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTRcIj5cbiAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9jayB0ZXh0LWdyYXktNzAwIGZvbnQtbWVkaXVtIG1iLTJcIj5cbiAgICAgICAgICAgICAgRmVhdHVyZWQgSW1hZ2VcbiAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHshaW1hZ2VQcmV2aWV3ID8gKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJvcmRlci0yIGJvcmRlci1kYXNoZWQgYm9yZGVyLWdyYXktMzAwIHJvdW5kZWQtbWQgcC02IHRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICB0eXBlPVwiZmlsZVwiXG4gICAgICAgICAgICAgICAgICBpZD1cImltYWdlXCJcbiAgICAgICAgICAgICAgICAgIG5hbWU9XCJpbWFnZVwiXG4gICAgICAgICAgICAgICAgICBhY2NlcHQ9XCJpbWFnZS8qXCJcbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVJbWFnZVVwbG9hZH1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImhpZGRlblwiXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8bGFiZWwgXG4gICAgICAgICAgICAgICAgICBodG1sRm9yPVwiaW1hZ2VcIiBcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGN1cnNvci1wb2ludGVyXCJcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8VXBsb2FkIGNsYXNzTmFtZT1cImgtMTIgdy0xMiB0ZXh0LWdyYXktNDAwIG1iLTJcIiAvPlxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTUwMFwiPkNsaWNrIHRvIHVwbG9hZCBpbWFnZTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTQwMCBtdC0xXCI+UE5HLCBKUEcsIEdJRiB1cCB0byA1TUI8L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlXCI+XG4gICAgICAgICAgICAgICAgPEltYWdlIFxuICAgICAgICAgICAgICAgICAgc3JjPXtpbWFnZVByZXZpZXd9IFxuICAgICAgICAgICAgICAgICAgYWx0PVwiUHJldmlld1wiIFxuICAgICAgICAgICAgICAgICAgd2lkdGg9ezQwMH0gXG4gICAgICAgICAgICAgICAgICBoZWlnaHQ9ezIyNX0gXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkLW1kIG9iamVjdC1jb3ZlclwiXG4gICAgICAgICAgICAgICAgICB1bm9wdGltaXplZD17dHJ1ZX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlUmVtb3ZlSW1hZ2V9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtMiByaWdodC0yIGJnLXJlZC02MDAgdGV4dC13aGl0ZSBwLTEgcm91bmRlZC1mdWxsIGhvdmVyOmJnLXJlZC03MDBcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxYIHNpemU9ezE2fSAvPlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgXG4gICAgICAgICAgey8qIENvbnRlbnQgRmllbGQgKi99XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi02XCI+XG4gICAgICAgICAgICA8bGFiZWwgaHRtbEZvcj1cImNvbnRlbnRcIiBjbGFzc05hbWU9XCJibG9jayB0ZXh0LWdyYXktNzAwIGZvbnQtbWVkaXVtIG1iLTJcIj5cbiAgICAgICAgICAgICAgQ29udGVudFxuICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgIDx0ZXh0YXJlYVxuICAgICAgICAgICAgICBpZD1cImNvbnRlbnRcIlxuICAgICAgICAgICAgICBuYW1lPVwiY29udGVudFwiXG4gICAgICAgICAgICAgIHZhbHVlPXtmb3JtRGF0YS5jb250ZW50fVxuICAgICAgICAgICAgICBvbkNoYW5nZT17aGFuZGxlQ2hhbmdlfVxuICAgICAgICAgICAgICByZXF1aXJlZFxuICAgICAgICAgICAgICByb3dzPXsxMH1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHB4LTQgcHktMiBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHJvdW5kZWQtbWQgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLWJsdWUtNTAwXCJcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJXcml0ZSB5b3VyIHBvc3QgY29udGVudCBoZXJlLi4uXCJcbiAgICAgICAgICAgID48L3RleHRhcmVhPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIFxuICAgICAgICAgIHsvKiBTdWJtaXQgQnV0dG9uICovfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWVuZFwiPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICB0eXBlPVwic3VibWl0XCJcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzU3VibWl0dGluZ31cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtNiBweS0yIGJnLWJsdWUtNjAwIHRleHQtd2hpdGUgcm91bmRlZC1tZCBob3ZlcjpiZy1ibHVlLTcwMCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctYmx1ZS01MDAgZGlzYWJsZWQ6b3BhY2l0eS01MCBmbGV4IGl0ZW1zLWNlbnRlclwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHtpc1N1Ym1pdHRpbmcgPyAoXG4gICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgIDxMb2FkZXIgc2l6ZT17MTZ9IGNsYXNzTmFtZT1cIm1yLTIgYW5pbWF0ZS1zcGluXCIgLz5cbiAgICAgICAgICAgICAgICAgIFVwZGF0aW5nLi4uXG4gICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgJ1VwZGF0ZSBQb3N0J1xuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZm9ybT5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59O1xuXG4vLyBDb25uZWN0IHRvIE1vbmdvREIgYXQgdGhlIHN0YXJ0XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKHJlcXVlc3QsIHsgcGFyYW1zIH0pIHtcbiAgY29uc3QgeyBpZCB9ID0gcGFyYW1zO1xuICBcbiAgdHJ5IHtcbiAgICBhd2FpdCBkYkNvbm5lY3QoKTtcbiAgICBcbiAgICAvLyBWYWxpZGF0ZSBJRCBmb3JtYXRcbiAgICBpZiAoIW1vbmdvb3NlLlR5cGVzLk9iamVjdElkLmlzVmFsaWQoaWQpKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ0ludmFsaWQgcG9zdCBJRCcgfSwgeyBzdGF0dXM6IDQwMCB9KTtcbiAgICB9XG4gICAgXG4gICAgLy8gRmluZCBwb3N0IGJ5IElEXG4gICAgY29uc3QgcG9zdCA9IGF3YWl0IFBvc3QuZmluZEJ5SWQoaWQpLnBvcHVsYXRlKCdhdXRob3InLCAnbmFtZSBlbWFpbCcpO1xuICAgIFxuICAgIC8vIFJldHVybiA0MDQgaWYgcG9zdCBub3QgZm91bmRcbiAgICBpZiAoIXBvc3QpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnUG9zdCBub3QgZm91bmQnIH0sIHsgc3RhdHVzOiA0MDQgfSk7XG4gICAgfVxuICAgIFxuICAgIC8vIFJldHVybiBwb3N0IGRhdGFcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBwb3N0IH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHBvc3Q6JywgZXJyb3IpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnRmFpbGVkIHRvIGZldGNoIHBvc3QnIH0sIHsgc3RhdHVzOiA1MDAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBVVChyZXF1ZXN0LCB7IHBhcmFtcyB9KSB7XG4gIGNvbnN0IHsgaWQgfSA9IHBhcmFtcztcbiAgXG4gIHRyeSB7XG4gICAgYXdhaXQgZGJDb25uZWN0KCk7XG4gICAgXG4gICAgLy8gVmFsaWRhdGUgSUQgZm9ybWF0XG4gICAgaWYgKCFtb25nb29zZS5UeXBlcy5PYmplY3RJZC5pc1ZhbGlkKGlkKSkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdJbnZhbGlkIHBvc3QgSUQnIH0sIHsgc3RhdHVzOiA0MDAgfSk7XG4gICAgfVxuICAgIFxuICAgIC8vIEZpbmQgcG9zdCB0byB2ZXJpZnkgaXQgZXhpc3RzXG4gICAgY29uc3QgZXhpc3RpbmdQb3N0ID0gYXdhaXQgUG9zdC5maW5kQnlJZChpZCk7XG4gICAgaWYgKCFleGlzdGluZ1Bvc3QpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnUG9zdCBub3QgZm91bmQnIH0sIHsgc3RhdHVzOiA0MDQgfSk7XG4gICAgfVxuICAgIFxuICAgIC8vIFByb2Nlc3MgZm9ybSBkYXRhIChtdWx0aXBhcnQgZm9ybSlcbiAgICBjb25zdCBmb3JtRGF0YSA9IGF3YWl0IHJlcXVlc3QuZm9ybURhdGEoKTtcbiAgICBjb25zdCB0aXRsZSA9IGZvcm1EYXRhLmdldCgndGl0bGUnKTtcbiAgICBjb25zdCBjb250ZW50ID0gZm9ybURhdGEuZ2V0KCdjb250ZW50Jyk7XG4gICAgY29uc3QgY2F0ZWdvcnkgPSBmb3JtRGF0YS5nZXQoJ2NhdGVnb3J5Jyk7XG4gICAgY29uc3QgaW1hZ2UgPSBmb3JtRGF0YS5nZXQoJ2ltYWdlJyk7XG4gICAgXG4gICAgLy8gVmFsaWRhdGUgcmVxdWlyZWQgZmllbGRzXG4gICAgaWYgKCF0aXRsZSB8fCAhY29udGVudCB8fCAhY2F0ZWdvcnkpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBlcnJvcjogJ1RpdGxlLCBjb250ZW50IGFuZCBjYXRlZ29yeSBhcmUgcmVxdWlyZWQnIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxuICAgICAgKTtcbiAgICB9XG4gICAgXG4gICAgLy8gUHJlcGFyZSB1cGRhdGUgZGF0YVxuICAgIGNvbnN0IHVwZGF0ZURhdGEgPSB7XG4gICAgICB0aXRsZSxcbiAgICAgIGNvbnRlbnQsXG4gICAgICBjYXRlZ29yeSxcbiAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKVxuICAgIH07XG4gICAgXG4gICAgLy8gSGFuZGxlIGltYWdlIHVwbG9hZCBpZiBwcm92aWRlZFxuICAgIGlmIChpbWFnZSAmJiBpbWFnZSBpbnN0YW5jZW9mIEZpbGUpIHtcbiAgICAgIC8vIEZvciBub3csIHdlJ2xsIGtlZXAgZXhpc3RpbmcgaW1hZ2UgVVJMXG4gICAgICAvLyBJbiBhIHJlYWwgaW1wbGVtZW50YXRpb24sIHlvdSB3b3VsZCB1cGxvYWQgdGhlIGltYWdlIGFuZCB1cGRhdGUgdGhlIFVSTFxuICAgICAgY29uc29sZS5sb2coJ0ltYWdlIHJlY2VpdmVkOicsIGltYWdlLm5hbWUsIGltYWdlLnNpemUpO1xuICAgIH1cbiAgICBcbiAgICAvLyBVcGRhdGUgcG9zdCBpbiBkYXRhYmFzZSB1c2luZyBNb25nb29zZVxuICAgIGNvbnN0IHVwZGF0ZWRQb3N0ID0gYXdhaXQgUG9zdC5maW5kQnlJZEFuZFVwZGF0ZShcbiAgICAgIGlkLFxuICAgICAgeyAkc2V0OiB1cGRhdGVEYXRhIH0sXG4gICAgICB7IG5ldzogdHJ1ZSB9IC8vIFJldHVybiB1cGRhdGVkIGRvY3VtZW50XG4gICAgKTtcbiAgICBcbiAgICBpZiAoIXVwZGF0ZWRQb3N0KSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ1Bvc3Qgbm90IGZvdW5kIG9yIG5vdCB1cGRhdGVkJyB9LCB7IHN0YXR1czogNDA0IH0pO1xuICAgIH1cbiAgICBcbiAgICAvLyBSZXR1cm4gc3VjY2VzcyByZXNwb25zZVxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IFxuICAgICAgbWVzc2FnZTogJ1Bvc3QgdXBkYXRlZCBzdWNjZXNzZnVsbHknLFxuICAgICAgcG9zdDogdXBkYXRlZFBvc3RcbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyBwb3N0OicsIGVycm9yKTtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ0ZhaWxlZCB0byB1cGRhdGUgcG9zdCcgfSwgeyBzdGF0dXM6IDUwMCB9KTtcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gREVMRVRFKHJlcXVlc3QsIHsgcGFyYW1zIH0pIHtcbiAgY29uc3QgeyBpZCB9ID0gcGFyYW1zO1xuICBcbiAgdHJ5IHtcbiAgICBhd2FpdCBkYkNvbm5lY3QoKTtcbiAgICBcbiAgICAvLyBWYWxpZGF0ZSBJRCBmb3JtYXRcbiAgICBpZiAoIW1vbmdvb3NlLlR5cGVzLk9iamVjdElkLmlzVmFsaWQoaWQpKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ0ludmFsaWQgcG9zdCBJRCcgfSwgeyBzdGF0dXM6IDQwMCB9KTtcbiAgICB9XG4gICAgXG4gICAgLy8gRGVsZXRlIHBvc3QgYnkgSUQgdXNpbmcgTW9uZ29vc2VcbiAgICBjb25zdCBkZWxldGVkUG9zdCA9IGF3YWl0IFBvc3QuZmluZEJ5SWRBbmREZWxldGUoaWQpO1xuICAgIFxuICAgIGlmICghZGVsZXRlZFBvc3QpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnUG9zdCBub3QgZm91bmQnIH0sIHsgc3RhdHVzOiA0MDQgfSk7XG4gICAgfVxuICAgIFxuICAgIC8vIFJldHVybiBzdWNjZXNzIHJlc3BvbnNlXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgbWVzc2FnZTogJ1Bvc3QgZGVsZXRlZCBzdWNjZXNzZnVsbHknIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGRlbGV0aW5nIHBvc3Q6JywgZXJyb3IpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnRmFpbGVkIHRvIGRlbGV0ZSBwb3N0JyB9LCB7IHN0YXR1czogNTAwIH0pO1xuICB9XG59Il0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImRiQ29ubmVjdCIsIlBvc3QiLCJtb25nb29zZSIsIkFkbWluRWRpdFBvc3RQYWdlIiwicGFyYW1zIiwiaWQiLCJyb3V0ZXIiLCJ1c2VSb3V0ZXIiLCJpc1N1Ym1pdHRpbmciLCJzZXRJc1N1Ym1pdHRpbmciLCJ1c2VTdGF0ZSIsImlzTG9hZGluZyIsInNldElzTG9hZGluZyIsImVycm9yIiwic2V0RXJyb3IiLCJzdWNjZXNzIiwic2V0U3VjY2VzcyIsImltYWdlUHJldmlldyIsInNldEltYWdlUHJldmlldyIsImZvcm1EYXRhIiwic2V0Rm9ybURhdGEiLCJ0aXRsZSIsImNvbnRlbnQiLCJjYXRlZ29yeSIsImltYWdlIiwiY2F0ZWdvcmllcyIsInVzZUVmZmVjdCIsImZldGNoUG9zdCIsInJlc3BvbnNlIiwiZmV0Y2giLCJvayIsIkVycm9yIiwiZGF0YSIsImpzb24iLCJwb3N0IiwiaW1hZ2VVcmwiLCJjb25zb2xlIiwibWVzc2FnZSIsImhhbmRsZUNoYW5nZSIsImUiLCJuYW1lIiwidmFsdWUiLCJ0YXJnZXQiLCJwcmV2IiwiaGFuZGxlSW1hZ2VVcGxvYWQiLCJmaWxlIiwiZmlsZXMiLCJzaXplIiwidHlwZSIsInN0YXJ0c1dpdGgiLCJyZWFkZXIiLCJGaWxlUmVhZGVyIiwib25sb2FkIiwicmVzdWx0IiwicmVhZEFzRGF0YVVSTCIsImhhbmRsZVJlbW92ZUltYWdlIiwiaGFuZGxlU3VibWl0IiwicHJldmVudERlZmF1bHQiLCJwb3N0Rm9ybURhdGEiLCJGb3JtRGF0YSIsImFwcGVuZCIsImxvZyIsIm1ldGhvZCIsImJvZHkiLCJzdGF0dXMiLCJlcnJvck1lc3NhZ2UiLCJlcnJvckRhdGEiLCJzZXRUaW1lb3V0IiwicHVzaCIsImVyciIsImRpdiIsImNsYXNzTmFtZSIsIkxpbmsiLCJocmVmIiwiQXJyb3dMZWZ0IiwiaDIiLCJwIiwiZm9ybSIsIm9uU3VibWl0IiwiZW5jVHlwZSIsImxhYmVsIiwiaHRtbEZvciIsImlucHV0Iiwib25DaGFuZ2UiLCJyZXF1aXJlZCIsInBsYWNlaG9sZGVyIiwic2VsZWN0IiwibWFwIiwib3B0aW9uIiwiY2hhckF0IiwidG9VcHBlckNhc2UiLCJzbGljZSIsImFjY2VwdCIsIlVwbG9hZCIsInNwYW4iLCJJbWFnZSIsInNyYyIsImFsdCIsIndpZHRoIiwiaGVpZ2h0IiwidW5vcHRpbWl6ZWQiLCJidXR0b24iLCJvbkNsaWNrIiwiWCIsInRleHRhcmVhIiwicm93cyIsImRpc2FibGVkIiwiTG9hZGVyIiwiR0VUIiwicmVxdWVzdCIsIlR5cGVzIiwiT2JqZWN0SWQiLCJpc1ZhbGlkIiwiZmluZEJ5SWQiLCJwb3B1bGF0ZSIsIlBVVCIsImV4aXN0aW5nUG9zdCIsImdldCIsInVwZGF0ZURhdGEiLCJ1cGRhdGVkQXQiLCJEYXRlIiwiRmlsZSIsInVwZGF0ZWRQb3N0IiwiZmluZEJ5SWRBbmRVcGRhdGUiLCIkc2V0IiwibmV3IiwiREVMRVRFIiwiZGVsZXRlZFBvc3QiLCJmaW5kQnlJZEFuZERlbGV0ZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/posts/[id]/route.js\n");

/***/ }),

/***/ "(rsc)/./src/lib/mongodb.js":
/*!****************************!*\
  !*** ./src/lib/mongodb.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst MONGODB_URI = process.env.MONGODB_URI;\nif (!MONGODB_URI) {\n    throw new Error(\"Please define the MONGODB_URI environment variable inside .env.local\");\n}\nlet cached = global.mongoose;\nif (!cached) {\n    cached = global.mongoose = {\n        conn: null,\n        promise: null\n    };\n}\nasync function dbConnect() {\n    if (cached.conn) {\n        return cached.conn;\n    }\n    if (!cached.promise) {\n        const opts = {\n            bufferCommands: false\n        };\n        cached.promise = mongoose__WEBPACK_IMPORTED_MODULE_0___default().connect(MONGODB_URI, opts).then((mongoose)=>{\n            return mongoose;\n        });\n    }\n    try {\n        cached.conn = await cached.promise;\n    } catch (e) {\n        cached.promise = null;\n        throw e;\n    }\n    return cached.conn;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (dbConnect);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL21vbmdvZGIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQStCO0FBRS9CLE1BQU1DLGNBQWNDLFFBQVFDLEdBQUcsQ0FBQ0YsV0FBVztBQUUzQyxJQUFJLENBQUNBLGFBQWE7SUFDaEIsTUFBTSxJQUFJRyxNQUFNO0FBQ2xCO0FBRUEsSUFBSUMsU0FBU0MsT0FBT04sUUFBUTtBQUU1QixJQUFJLENBQUNLLFFBQVE7SUFDWEEsU0FBU0MsT0FBT04sUUFBUSxHQUFHO1FBQUVPLE1BQU07UUFBTUMsU0FBUztJQUFLO0FBQ3pEO0FBRUEsZUFBZUM7SUFDYixJQUFJSixPQUFPRSxJQUFJLEVBQUU7UUFDZixPQUFPRixPQUFPRSxJQUFJO0lBQ3BCO0lBRUEsSUFBSSxDQUFDRixPQUFPRyxPQUFPLEVBQUU7UUFDbkIsTUFBTUUsT0FBTztZQUNYQyxnQkFBZ0I7UUFDbEI7UUFFQU4sT0FBT0csT0FBTyxHQUFHUix1REFBZ0IsQ0FBQ0MsYUFBYVMsTUFBTUcsSUFBSSxDQUFDLENBQUNiO1lBQ3pELE9BQU9BO1FBQ1Q7SUFDRjtJQUVBLElBQUk7UUFDRkssT0FBT0UsSUFBSSxHQUFHLE1BQU1GLE9BQU9HLE9BQU87SUFDcEMsRUFBRSxPQUFPTSxHQUFHO1FBQ1ZULE9BQU9HLE9BQU8sR0FBRztRQUNqQixNQUFNTTtJQUNSO0lBRUEsT0FBT1QsT0FBT0UsSUFBSTtBQUNwQjtBQUVBLGlFQUFlRSxTQUFTQSxFQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV3cy1ibG9nLXNpdGUvLi9zcmMvbGliL21vbmdvZGIuanM/OGIwMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnXG5cbmNvbnN0IE1PTkdPREJfVVJJID0gcHJvY2Vzcy5lbnYuTU9OR09EQl9VUklcblxuaWYgKCFNT05HT0RCX1VSSSkge1xuICB0aHJvdyBuZXcgRXJyb3IoJ1BsZWFzZSBkZWZpbmUgdGhlIE1PTkdPREJfVVJJIGVudmlyb25tZW50IHZhcmlhYmxlIGluc2lkZSAuZW52LmxvY2FsJylcbn1cblxubGV0IGNhY2hlZCA9IGdsb2JhbC5tb25nb29zZVxuXG5pZiAoIWNhY2hlZCkge1xuICBjYWNoZWQgPSBnbG9iYWwubW9uZ29vc2UgPSB7IGNvbm46IG51bGwsIHByb21pc2U6IG51bGwgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBkYkNvbm5lY3QoKSB7XG4gIGlmIChjYWNoZWQuY29ubikge1xuICAgIHJldHVybiBjYWNoZWQuY29ublxuICB9XG5cbiAgaWYgKCFjYWNoZWQucHJvbWlzZSkge1xuICAgIGNvbnN0IG9wdHMgPSB7XG4gICAgICBidWZmZXJDb21tYW5kczogZmFsc2UsXG4gICAgfVxuXG4gICAgY2FjaGVkLnByb21pc2UgPSBtb25nb29zZS5jb25uZWN0KE1PTkdPREJfVVJJLCBvcHRzKS50aGVuKChtb25nb29zZSkgPT4ge1xuICAgICAgcmV0dXJuIG1vbmdvb3NlXG4gICAgfSlcbiAgfVxuXG4gIHRyeSB7XG4gICAgY2FjaGVkLmNvbm4gPSBhd2FpdCBjYWNoZWQucHJvbWlzZVxuICB9IGNhdGNoIChlKSB7XG4gICAgY2FjaGVkLnByb21pc2UgPSBudWxsXG4gICAgdGhyb3cgZVxuICB9XG5cbiAgcmV0dXJuIGNhY2hlZC5jb25uXG59XG5cbmV4cG9ydCBkZWZhdWx0IGRiQ29ubmVjdCJdLCJuYW1lcyI6WyJtb25nb29zZSIsIk1PTkdPREJfVVJJIiwicHJvY2VzcyIsImVudiIsIkVycm9yIiwiY2FjaGVkIiwiZ2xvYmFsIiwiY29ubiIsInByb21pc2UiLCJkYkNvbm5lY3QiLCJvcHRzIiwiYnVmZmVyQ29tbWFuZHMiLCJjb25uZWN0IiwidGhlbiIsImUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/mongodb.js\n");

/***/ }),

/***/ "(rsc)/./src/models/Post.js":
/*!****************************!*\
  !*** ./src/models/Post.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst PostSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n    title: {\n        type: String,\n        required: true,\n        trim: true\n    },\n    content: {\n        type: String,\n        required: true\n    },\n    category: {\n        type: String,\n        required: true,\n        enum: [\n            \"business\",\n            \"tech\",\n            \"weather\",\n            \"automotive\",\n            \"pakistan\",\n            \"global\",\n            \"health\",\n            \"sports\",\n            \"islam\",\n            \"education\",\n            \"entertainment\"\n        ]\n    },\n    imageUrl: {\n        type: String,\n        default: null\n    },\n    author: {\n        type: (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema).Types.ObjectId,\n        ref: \"User\",\n        required: true\n    },\n    comments: [\n        {\n            text: {\n                type: String,\n                required: true\n            },\n            author: {\n                type: (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema).Types.ObjectId,\n                ref: \"User\",\n                required: true\n            },\n            createdAt: {\n                type: Date,\n                default: Date.now\n            }\n        }\n    ],\n    createdAt: {\n        type: Date,\n        default: Date.now\n    },\n    updatedAt: {\n        type: Date,\n        default: Date.now\n    },\n    status: {\n        type: String,\n        enum: [\n            \"pending\",\n            \"published\",\n            \"rejected\"\n        ],\n        default: \"pending\"\n    }\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).Post || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model(\"Post\", PostSchema));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbW9kZWxzL1Bvc3QuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQStCO0FBRS9CLE1BQU1DLGFBQWEsSUFBSUQsd0RBQWUsQ0FBQztJQUNyQ0csT0FBTztRQUNMQyxNQUFNQztRQUNOQyxVQUFVO1FBQ1ZDLE1BQU07SUFDUjtJQUNBQyxTQUFTO1FBQ1BKLE1BQU1DO1FBQ05DLFVBQVU7SUFDWjtJQUNBRyxVQUFVO1FBQ1JMLE1BQU1DO1FBQ05DLFVBQVU7UUFDVkksTUFBTTtZQUFDO1lBQVk7WUFBUTtZQUFXO1lBQWM7WUFBWTtZQUFVO1lBQVU7WUFBVTtZQUFTO1lBQWE7U0FBZ0I7SUFDdEk7SUFDQUMsVUFBVTtRQUNSUCxNQUFNQztRQUNOTyxTQUFTO0lBQ1g7SUFDQUMsUUFBUTtRQUNOVCxNQUFNSix3REFBZSxDQUFDYyxLQUFLLENBQUNDLFFBQVE7UUFDcENDLEtBQUs7UUFDTFYsVUFBVTtJQUNaO0lBQ0FXLFVBQVU7UUFBQztZQUNUQyxNQUFNO2dCQUNKZCxNQUFNQztnQkFDTkMsVUFBVTtZQUNaO1lBQ0FPLFFBQVE7Z0JBQ05ULE1BQU1KLHdEQUFlLENBQUNjLEtBQUssQ0FBQ0MsUUFBUTtnQkFDcENDLEtBQUs7Z0JBQ0xWLFVBQVU7WUFDWjtZQUNBYSxXQUFXO2dCQUNUZixNQUFNZ0I7Z0JBQ05SLFNBQVNRLEtBQUtDLEdBQUc7WUFDbkI7UUFDRjtLQUFFO0lBQ0ZGLFdBQVc7UUFDVGYsTUFBTWdCO1FBQ05SLFNBQVNRLEtBQUtDLEdBQUc7SUFDbkI7SUFDQUMsV0FBVztRQUNUbEIsTUFBTWdCO1FBQ05SLFNBQVNRLEtBQUtDLEdBQUc7SUFDbkI7SUFDQUUsUUFBUTtRQUNObkIsTUFBTUM7UUFDTkssTUFBTTtZQUFDO1lBQVc7WUFBYTtTQUFXO1FBQzFDRSxTQUFTO0lBQ1g7QUFDRjtBQUVBLGlFQUFlWix3REFBZSxDQUFDeUIsSUFBSSxJQUFJekIscURBQWMsQ0FBQyxRQUFRQyxXQUFXQSxFQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV3cy1ibG9nLXNpdGUvLi9zcmMvbW9kZWxzL1Bvc3QuanM/NTdlMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnXG5cbmNvbnN0IFBvc3RTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKHtcbiAgdGl0bGU6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgdHJpbTogdHJ1ZVxuICB9LFxuICBjb250ZW50OiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIHJlcXVpcmVkOiB0cnVlXG4gIH0sXG4gIGNhdGVnb3J5OiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgIGVudW06IFsnYnVzaW5lc3MnLCAndGVjaCcsICd3ZWF0aGVyJywgJ2F1dG9tb3RpdmUnLCAncGFraXN0YW4nLCAnZ2xvYmFsJywgJ2hlYWx0aCcsICdzcG9ydHMnLCAnaXNsYW0nLCAnZWR1Y2F0aW9uJywgJ2VudGVydGFpbm1lbnQnXVxuICB9LFxuICBpbWFnZVVybDoge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICBkZWZhdWx0OiBudWxsXG4gIH0sXG4gIGF1dGhvcjoge1xuICAgIHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCxcbiAgICByZWY6ICdVc2VyJyxcbiAgICByZXF1aXJlZDogdHJ1ZVxuICB9LFxuICBjb21tZW50czogW3tcbiAgICB0ZXh0OiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICByZXF1aXJlZDogdHJ1ZVxuICAgIH0sXG4gICAgYXV0aG9yOiB7XG4gICAgICB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsXG4gICAgICByZWY6ICdVc2VyJyxcbiAgICAgIHJlcXVpcmVkOiB0cnVlXG4gICAgfSxcbiAgICBjcmVhdGVkQXQ6IHtcbiAgICAgIHR5cGU6IERhdGUsXG4gICAgICBkZWZhdWx0OiBEYXRlLm5vd1xuICAgIH1cbiAgfV0sXG4gIGNyZWF0ZWRBdDoge1xuICAgIHR5cGU6IERhdGUsXG4gICAgZGVmYXVsdDogRGF0ZS5ub3dcbiAgfSxcbiAgdXBkYXRlZEF0OiB7XG4gICAgdHlwZTogRGF0ZSxcbiAgICBkZWZhdWx0OiBEYXRlLm5vd1xuICB9LFxuICBzdGF0dXM6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgZW51bTogWydwZW5kaW5nJywgJ3B1Ymxpc2hlZCcsICdyZWplY3RlZCddLFxuICAgIGRlZmF1bHQ6ICdwZW5kaW5nJ1xuICB9XG59KVxuXG5leHBvcnQgZGVmYXVsdCBtb25nb29zZS5tb2RlbHMuUG9zdCB8fCBtb25nb29zZS5tb2RlbCgnUG9zdCcsIFBvc3RTY2hlbWEpXG4iXSwibmFtZXMiOlsibW9uZ29vc2UiLCJQb3N0U2NoZW1hIiwiU2NoZW1hIiwidGl0bGUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJ0cmltIiwiY29udGVudCIsImNhdGVnb3J5IiwiZW51bSIsImltYWdlVXJsIiwiZGVmYXVsdCIsImF1dGhvciIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZWYiLCJjb21tZW50cyIsInRleHQiLCJjcmVhdGVkQXQiLCJEYXRlIiwibm93IiwidXBkYXRlZEF0Iiwic3RhdHVzIiwibW9kZWxzIiwiUG9zdCIsIm1vZGVsIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/models/Post.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fposts%2F%5Bid%5D%2Froute&page=%2Fapi%2Fposts%2F%5Bid%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fposts%2F%5Bid%5D%2Froute.js&appDir=D%3A%5Cindustry%20projects%5CNews-Blogs-main%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5Cindustry%20projects%5CNews-Blogs-main&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();